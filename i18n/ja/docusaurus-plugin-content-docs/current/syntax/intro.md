---
sidebar_position: 1
---

# 関数と変数

## 紹介

Waveプログラミング言語の核心的な設計哲学は、低水準のパフォーマンスと高水準の抽象化のバランスを取ることで、ソフトウェア開発に効率的で柔軟な環境を提供することです。
このセクションでは、Waveプログラムの基本的な構成要素である関数と変数を紹介します。これらの構成要素は、プログラム内でロジックを構築し、データを管理するために不可欠です。
関数と変数の定義方法と取り扱い方を理解することで、Waveの潜在能力を最大限に活用することができます。

---

## 関数
Waveにおいて関数は独立して実行できる**再利用可能なコードブロック**として機能します。
関数は特定の動作をカプセル化し、プログラム全体で必要なときに呼び出すことができるようにします。
これにより計算を実行したり、I/O操作を管理したり、コードを管理可能な単位に分けることができます。

Waveにおける関数のシグネチャは、`fun`キーワードで始まり、関数名、パラメーター（ある場合）、および中括弧 `{}` で囲まれた関数本体で構成されます。

### 関数の定義
Waveで基本的な関数は次のように定義されます：

```wave
fun main() {
    // ここにコードを書いてください
}
```

* `main` 関数はプログラムの実行のためのエントリーポイントとして常に必要です。
* 関数はパラメーターを持つことができ、値を返すことができます。返り値の型は関数名の後に記述します。

### 例：簡単な関数

```wave
fun add(a :i32, b :i32) -> i32 {
    return a + b;
}

fun main() {
    var result = add(5, 7);     // add 関数の呼び出し
    println(result);            // 出力: 12
}
```

上記の例では：

* `add` 関数は2つの整数 `a` と `b` を受け取り、合計を返します。
* `main` 関数は `add` を呼び出して結果を出力します。

## 変数
変数はプログラム内でデータを保存し、操作するために使用されます。
Waveは変数宣言で**可変変数**と**不変変数**の両方をサポートし、データ管理に対する開発者の制御権を提供します。

### 可変変数
Waveでは変数はデフォルトで**可変(mutable)** です。つまり、プログラムの実行中に値を変更することができます。

可変変数は `var` キーワードを使用して宣言します。
```wave
var x :i32 = 10; // 可変変数
x = 20;
```

上記の例では：
* `x` は可変変数で、初期値 `10` を持ち、その後 `20` に変更できます。

### 不変変数
変数を**不変(immutable)** として宣言すると、一度値が割り当てられた後は変更することができません。

不変変数は `var imm` キーワードを使用して宣言します。
```wave
var imm y :i32 = 5;     // 不変変数
// y = 10;              // エラー: 不変変数は値を変更できません。
```

ここでは:
* `y` は不変変数であり、値を変更しようとするとコンパイルエラーが発生します。

### 変数宣言の例
さまざまな型の可変および不変変数を宣言する例は以下の通りです：

```wave
var x :i32 = 10;                    // 可変整数変数
var imm y :f64 = 3.14159;           // 不変浮動小数点変数
var name :str = "Wave";             // 可変文字列変数
var imm is_active :bool = true;     // 不変論理変数
```

* `x` は可変整数です。
* `y` は不変浮動小数点数です。
* `name` は可変文字列です。
* `is_active` は不変論理値です。

Waveでは `var` キーワードを使用して可変変数を宣言し、`var imm` キーワードを使用して初期割り当て後に変更できない不変変数を宣言します。

可変変数と不変変数を区別することにより、Waveはデータの整合性とプログラムの状態をより効果的に制御することができます。
これにより、より堅牢で予測可能なコードを作成することができます。
