---
sidebar_position: 3
---

# Whale编译器工具链

## 概述

Whale是为Wave编程语言专用的编译器工具链。
Whale负责将用Wave编写的源代码进行分析、优化，并转换为目标平台的二进制文件的全过程。
此工具链为Wave语言专用设计，不考虑支持其他语言或与外部工具链集成。

## 设计目标

Whale的主要设计目标如下：

- 专为Wave支持：Whale仅支持Wave语言，不考虑与其他语言的集成。
- 模块化结构：各功能由独立模块构成，可根据需要增加或移除。
- 使用独立IR：Whale不使用LLVM IR等现有外部IR，而是定义自己的中间表示。
- 支持多目标平台：不受操作系统及硬件架构限制，可面向多种环境进行构建。
- 精细控制：构成可以让开发者对编译的全过程进行详细控制。
- 去除外部依赖性：Whale不依赖外部C / C++运行时或编译器。

## 目标支持

Whale目标支持下列环境：

- 操作系统：
  - Linux
  - Windows
  - macOS
  - UEFI (不包括BIOS)
  - WaveOS (自有操作系统)
- 架构：
  - x86_64 (AMD64)
  - ARM64
  - 其他可通过添加模块扩展

## 외부 연동(FFI)

Whale은 기술적으로 FFI(Foreign Function Interface)를 지원할 수 있도록 설계되지만,
Wave의 철학상 외부 언어와의 연동은 권장되지 않으며 표준적으로 제공되지 않습니다.
Wave는 자체 언어 내에서 모든 기능을 구현할 수 있도록 설계됩니다.

## 확장성

Whale은 다음과 같은 방식으로 확장이 가능합니다:

- 새로운 운영체제 또는 아키텍처에 대한 모듈 추가
- 사용자 정의 최적화 알고리즘 삽입
- 빌드 프로필 및 링커 설정의 커스터마이징
- 자체 실행 포맷 정의