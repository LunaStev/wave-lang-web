---
sidebar_position: 1
---

# 函数与变量

## 介绍

Wave编程语言的核心设计哲学是平衡低级性能与高级抽象，为软件开发提供高效且灵活的环境。
本节介绍了Wave程序的基本组成部分——函数和变量。这些组成部分对于在程序中构建逻辑和管理数据至关重要。
理解如何定义和操作函数与变量将帮助你最大化Wave的潜力。

---

## 函数
在Wave中，函数是一个可以独立执行的**可重用代码块**。
函数封装了特定的操作，可以在程序中随时调用。
这使得你可以执行计算、管理I/O操作，或将代码分解为可管理的单元。

Wave中的函数签名以`fun`关键字开始，后面跟着函数名、可选的参数以及用花括号`{}`括起来的函数体。

### 定义函数
Wave中定义一个基本函数的语法如下：

```wave
fun main() {
    // 在这里编写代码
}
```

* `main`函数是程序的入口点，始终是必须的。
* 函数可以有参数，也可以返回值，返回类型在函数名之后指定。

### 示例：简单的函数

```wave
fun add(a :i32, b :i32) -> i32 {
    return a + b;
}

fun main() {
    var result = add(5, 7);     // 调用add函数
    println(result);            // 输出: 12
}
```

在这个例子中：

* `add`函数接受两个整数`a`和`b`，并返回它们的和。
* `main`函数调用`add`并输出结果。

## 变量
变量用于在程序中存储和操作数据。
Wave支持**可变变量**和**不可变变量**的声明，提供了对数据管理的开发者控制权。

### 可变变量
在Wave中，变量默认是**可变的(mutable)**，即在程序执行过程中可以修改它们的值。

可变变量通过`var`关键字声明：
```wave
var x :i32 = 10; // 可变变量
x = 20;
```

在这个例子中：
* `x`是一个可变变量，初始值为`10`，并且可以在后续更改为`20`。

### 不可变变量
声明**不可变(immutable)**变量时，一旦赋值后无法再修改。

不可变变量通过`var imm`关键字声明：
```wave
var imm y :i32 = 5;     // 不可变变量
// y = 10;              // 错误：不可变变量不能更改值
```

在这里：
* `y`是一个不可变变量，尝试修改它的值将导致编译错误。

### 变量声明示例
声明不同类型的可变和不可变变量的例子如下：

```wave
var x :i32 = 10;                    // 可变整数变量
var imm y :f64 = 3.14159;           // 不可变浮点数变量
var name :str = "Wave";             // 可变字符串变量
var imm is_active :bool = true;     // 不可变布尔变量
```

* x是一个可变的整数。
* y是一个不可变的浮点数。
* name是一个可变的字符串。
* is_active是一个不可变的布尔值。

在Wave中，`var`用于声明可变变量，而`var imm`用于声明在初始赋值后不可修改的不可变变量。

通过区分可变和不可变变量，Wave更有效地控制数据一致性和程序状态。
这使得编写更稳健和可预测的代码成为可能。